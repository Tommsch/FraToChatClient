<div ng-controller="loginCtrl">
	<div ng-show="showLogin" id="login_box">
    	<form name="loginForm">
      		<label>Name:</label><br/>
      		<input type="text" ng-model="formName" required/> <br/>
    		<button ng-click="saveUser()">Save</button>
  		</form>
	</div>

	<div ng-show="showChat" id="chat">
		<div id="userList">
			<div class="userItem" ng-repeat="user in users" ng-click="selectUser(user.name)">
    			{{user.name}}
  			</div>
		</div>
		<div id="messages">
		Now chatting with: {{receiver}}
		 <ul id="chatList">
        	<li ng-repeat="msg in messages" ng-switch on="msg.sender == sender" id="list">
            	<div ng-switch-when="true" class="sender_box">
            		<div class="message to_message">
            			{{msg.timestamp| date:'yyyy-MM-dd HH:mm:ss'}} <br /> {{msg.sender}}:  {{msg.content}}
            		</div>
            	</div>
            	<div ng-switch-when="false" class="receiver_box">
            		<div class="message from_message">
            			{{msg.timestamp| date:'yyyy-MM-dd HH:mm:ss'}} <br /> {{msg.sender}}:  {{msg.content}}
            		</div>
            	</div>
        	</li>
      	</ul>
		
		</div>
		<div id=sendMessage>
			<form name="sendMessageForm">
      			<label>Message:</label><br/>
      			<textarea ng-model="message" rows="8" cols="50" required></textarea><br/>
    			<button ng-click="sendMessage()">Send</button>
  			</form>
		</div>
	</div>
</div>